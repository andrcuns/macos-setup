---

- name: Install Visual Studio Code
  homebrew_cask:
    name: visual-studio-code
    state: present

# This will fail on initial installation, needs to be allowed in security settings
- name: Install settings sync extension
  shell: code --install-extension Shan.code-settings-sync
  register: result
  changed_when: "'is already installed' not in result.stdout"
  ignore_errors: yes
